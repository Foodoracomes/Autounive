...```javascript
const h = Math.floor(diffMin / 60);
const m = diffMin % 60;
labelDuration.textContent = Tid: ${h}h ${m}min;
});

// SF-knappar (aktiviteter)
const sfAktiviteter = ["Trimmat", "Tagit intervju", "Fyllt på hyllor", "Servat bil", "Städat", "Installerat del", "Provkört"];
const sfContainer = document.getElementById("sfButtons");

function createSFButtons() {
sfContainer.innerHTML = "";
sfAktiviteter.forEach(namn => {
const btn = document.createElement("button");
btn.textContent = namn;
btn.className = "sf-button";
btn.addEventListener("click", () => toggleSF(namn, btn));
sfContainer.appendChild(btn);
});
}

function toggleSF(namn, btn) {
if (sfVal.includes(namn)) {
sfVal = sfVal.filter(v => v !== namn);
btn.classList.remove("selected");
} else {
sfVal.push(namn);
btn.classList.add("selected");
}
updateSummary();
}

function updateSFButtons() {
document.querySelectorAll(".sf-button").forEach(btn => {
const namn = btn.textContent;
if (sfVal.includes(namn)) {
btn.classList.add("selected");
} else {
btn.classList.remove("selected");
}
});
}

// Uppdatera sammanfattningen
function updateSummary() {
let tidText = labelDuration.textContent.replace("Tid: ", "");
let aktiviteter = sfVal.length > 0 ? sfVal.join(", ") : "-";
const datum = new Date().toLocaleDateString("sv-SE");
const sammanfattning = Datum: ${datum}\nTid i tjänst: ${tidText}\nAktiviteter: ${aktiviteter};
document.getElementById("summaryBox").value = sammanfattning;
}

// Kopiera sammanfattning
document.getElementById("copySummary").addEventListener("click", () => {
const textArea = document.getElementById("summaryBox");
textArea.select();
document.execCommand("copy");
});

// Skapa knappar vid start
createPartButtons();
createSFButtons();
</script>

</body> </html> ```
